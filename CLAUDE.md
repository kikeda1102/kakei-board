# CLAUDE.md

## ディレクトリ構成

バーティカルスライス単位で機能を分割する:

- `expense` - 支出管理
- `summary` - 集計・サマリー
- `budget` - 予算管理
- `score` - スコアリング

## コーディング規約

### Go（backend）

- `gofmt` / `go vet` 準拠
- `internal/` パッケージで公開範囲を制御する
- エラーは呼び出し元に返し、握りつぶさない

### TypeScript（frontend）

- strict mode を有効にする
- `as` 型アサーション禁止 — 型ガードや型の絞り込みで対応する
- API 層は RTK Query で統一する

### テスト

- アウトサイドイン TDD: 受け入れテスト → ユニットテストの順で書く

## セキュリティ注意事項（public リポジトリ）

- `.env` ファイルをコミットしない — テンプレートは `.env.example` を使う
- DB 接続情報や API キーをソースコードにハードコードしない
- シークレットは環境変数経由で注入する
